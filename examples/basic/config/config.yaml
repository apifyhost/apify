listeners:
  - port: 3000
    ip: 0.0.0.0
    protocol: HTTP
    apis:
      - path: ./openapi/items.yaml
        datasource: postgres1

consumers:
  - name: default
    keys:
      - dev-key-123
      - my-api-key-001

datasource:
  sqlite1:
    driver: sqlite
    database: /app/data/apify.sqlite
    max_pool_size: 5

  postgres1:
    driver: postgres
    host: postgres
    port: 5432
    user: apify
    password: apify_password
    database: apify_db
    ssl_mode: disable
    max_pool_size: 10


# Log level: trace, debug, info, warn, error
# Can be overridden with RUST_LOG environment variable
log_level: "info"

# Global modules configuration
modules:
  tracing:
    # Enable distributed tracing
    # Default: true
    enabled: true

    # OpenTelemetry OTLP endpoint for distributed tracing
    # Set to null to disable tracing
    otlp_endpoint: null

  metrics:
    # Enable Prometheus metrics endpoint
    # Default: true
    enabled: true

    # Port for Prometheus metrics HTTP endpoint
    # Default: 9090
    port: 9090

  openapi_docs:
    # Enable OpenAPI docs server
    enabled: false
    # Port for OpenAPI docs (Swagger UI)
    port: 3001
